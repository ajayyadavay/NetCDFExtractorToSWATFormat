var n;String.prototype.includes||(String.prototype.includes=function(a,b){return 0<=this.indexOf(a,b)});Array.prototype.includes||(Array.prototype.includes=function(a,b){return 0<=this.indexOf(a,b)});Array.prototype.fill||(Array.prototype.fill=function(a){for(var b=this.length;b--;)this[b]=a;return this});var p=Array.prototype.includes,aa=Function.call.bind(Array.prototype.slice),ba=Function.apply.bind(Array.prototype.push);function ca(a){return a instanceof Object}
var da=Function.bind.bind(function(a){return this[a]}),ea=Function.bind.bind(function(a){return a[this]}),u="undefined"==typeof browser;u&&(browser=chrome);var w=navigator.userAgent.includes("Edge/"),y=navigator.userAgent.includes("Firefox/"),fa=navigator.userAgent.includes("OPR/");navigator.userAgent.includes("YaBrowser/");
var z,ga,ha,ia,ja=y?69:w?77:66,ka=y?220:150,A=["127.0.0.1:1001","0.1.0.1:1001"],la=/(?!)/,ma=/(?:chrome|about|chrome-extension|ms-browser-extension|moz-extension):/,na=["main_frame","sub_frame"],oa=["image","object"],B="main_frame sub_frame image object xmlhttprequest other".split(" "),pa=["image","object","xmlhttprequest","other"],qa=["*://*/*","ftp://*/*","file:///*"],ra=["*://*/*"],sa=["*://*/*"],ta=/\.([^.\\/]*?)(?:\.[0-9.]+)?$/,ua=/^v(\d+)\.(\d+)(?:b(\d+))?\b/,va=/^idmreg:|\bidman|\binternetdownloadmanager\b/i,
wa=/^(HTM|HTML|CGI|PHP|ASP|ASPX|JSP|JSPX)$/i,xa=browser.runtime.getURL("captured.html"),ya=browser.runtime.getURL("").slice(0,-1),za=browser.extension.getBackgroundPage().location.href,Aa=!1,Ba=p.bind("origin referer dnt cookie user-agent accept-encoding sec-fetch-site sec-fetch-mode".split(" ")),Ca=p.bind([301,302,303,307,308]),Da=p.bind([301,302,303]),Ea=p.bind(["http","https","socks4","socks5"]),Fa={direct:2,auto_detect:3,system:4,pac_script:5,fixed_servers:7},Ga=[null,[115,111,112,113,114],[111,
112],[112]],Ha=[null,[-115,116,117,122,118,119,120,121],[113],[113]],Ia={16:1,17:2,18:4,45:8,46:16},Ja={http:1,https:9,ftp:2,ftps:10,idmreg:31},Ka={"text/html":"HTML|HTM","text/css":"CSS","text/javascript":"JS|JSON","text/mspg-legacyinfo":"MSI|MSP","text/plain":"TXT|VTT|SRT|M3U8|F4M","text/srt":"SRT","text/vtt":"VTT|SRT","text/xml":"XML|F4M|TTML","text/x-javascript":"JS|JSON","text/x-json":"JSON","application/f4m+xml":"F4M","application/gzip":"GZ","application/javascript":"JS","application/json":"JSON",
"application/msword":"DOC|DOCX|DOT|DOTX","application/pdf":"PDF","application/ttaf+xml":"DFXP","application/vnd.apple.mpegurl":"M3U8","application/zip":"ZIP","application/x-7z-compressed":"7Z","application/x-aim":"PLJ","application/x-compress":"Z","application/x-compress-7z":"7Z","application/x-compressed":"ARJ","application/x-dosexec":"EXE","application/x-gtar":"TAR","application/x-gzip":"GZ","application/x-gzip-compressed":"GZ","application/x-javascript":"JS","application/x-mpegurl":"M3U8","application/x-msdos-program":"EXE|DLL",
"application/x-msi":"MSI","application/x-msp":"MSP","application/x-ole-storage":"MSI|MSP","application/x-rar":"RAR","application/x-rar-compressed":"RAR","application/x-sdlc":"EXE|SDLC","application/x-shockwave-flash":"SWF","application/x-silverlight-app":"XAP","application/x-subrip":"SRT","application/x-tar":"TAR","application/x-zip":"ZIP","application/x-zip-compressed":"ZIP","video/3gpp":"3GP|3GPP","video/3gpp2":"3GP|3GPP","video/avi":"AVI","video/f4f":"F4F","video/f4m":"F4M","video/flv":"FLV","video/mp2t":"TS|M3U8",
"video/mp4":"MP4|M4V","video/mpeg":"MPG|MPEG","video/mpegurl":"M3U|M3U8","video/mpg4":"MP4|M4V","video/msvideo":"AVI","video/quicktime":"MOV|QT","video/webm":"WEBM","video/x-flash-video":"FLV","video/x-flv":"FLV","video/x-mp4":"MP4|M4V","video/x-mpegurl":"M3U|M3U8","video/x-mpg4":"MP4|M4V","video/x-ms-asf":"ASF","video/x-ms-wmv":"WMV","video/x-msvideo":"AVI","audio/3gpp":"3GP|3GPP","audio/3gpp2":"3GP|3GPP","audio/mp3":"MP3","audio/mp4":"M4A|MP4","audio/mp4a-latm":"M4A|MP4","audio/mpeg":"MP3","audio/mpeg4-generic":"M4A|MP4",
"audio/mpegurl":"M3U|M3U8","audio/webm":"WEBM","audio/wav":"WAV","audio/x-mpeg":"MP3","audio/x-mpegurl":"M3U|M3U8","audio/x-ms-wma":"WMA","audio/x-wav":"WAV","ilm/tm":"MP3","image/gif":"GIF|GFA","image/icon":"ICO|CUR","image/jpg":"JPG|JPEG","image/jpeg":"JPG|JPEG","image/png":"PNG|APNG","image/tiff":"TIF|TIFF","image/vnd.microsoft.icon":"ICO|CUR","image/webp":"WEBP","image/x-icon":"ICO|CUR","flv-application/octet-stream":"FLV"};
function G(a,b,c,d,e,f){if(a){var h=["MSG#",a,"#",b,"#",c,"#",d];this.w=a;this.A=b;this.D=c;this.m=d;this.b=e||[];this.o=h;if(e)for(a=0;a<e.length;a++)h.push(":",e[a]||0);if(f)for(var g in f)if(e=f[g],null!=e)if(h.push(",",g,"="),"string"==typeof e){b=a=e.length;for(c=0;c<b;)d=e.charCodeAt(c++),128<=d&&(2048<=d?(a+=2,d-55296&56320||c++):a++);h.push(a,":",e)}else e instanceof Blob?h.push(e.size,":",e):h.push(e)}else this.s=new FileReader}function H(){this.g=this.constructor.prototype.C++}
H.prototype.C=1;function La(a,b,c,d){this.id=a;this.b=b;c&&(this.f=c.toLowerCase());d&&(this.c=d)}La.prototype.a=0;function Ma(a,b,c){this.id=[a,b].toString();this.a=0>c?null:[a,c].toString()}function Na(a){a.h||(a.o.push(";"),a.h=!0);return a.o.join("")}function Oa(a){a.h||(a.o.push(";"),a.h=!0);return new Blob(a.o)}function Pa(a,b,c){a.h?a.c(a):(b.a=c||0,b.b=0,a.s.onload=a.Z.bind(a,b),I(a,b,0,50))}
G.prototype.Z=function(a){for(var b=this.s.result;;)switch(a.b){case 0:var c=b.split(",",2),d=c.shift().split(":",2),e=d.shift();if(!d.length){if(!c.length)return this.c(this);a.b=1}var f=e.length+1,d=e.split("#",6);if(5!=d.length||"MSG"!=d[0])return this.c(this);this.w=parseInt(d[1]);this.A=parseInt(d[2]);this.D=parseInt(d[3]);this.m=parseInt(d[4]);b=b.slice(f);a.a+=f;a.b++;break;case 1:d=b.split(",",2);e=d.shift();if(!d.length){d=b.split(";",2);if(2>d.length)return I(this,a,b.length,100);a.b=4}f=
e.length+1;this.b=d=e.split(":");for(e=0;e<d.length;e++)c=d[e],d[e]=c.includes(".")?parseFloat(c):parseInt(c);b=b.slice(f);a.a+=f;a.b++;break;case 2:c=b.split(",",2);2>c.length&&(c=b.split(";",2));var d=c.shift().split(":",2),h=d.shift(),f=h.length,e=!1;if(d.length)f++;else{if(!c.length)return I(this,a,b.length,25);e=!0}d=h.split("=",3);if(2!=d.length)return this.c(this);c=parseInt(d[0]);d=parseInt(d[1]);a.a+=f;a.b++;if(e){this[c]=d;b=b.slice(f);a.b++;break}a.f=c;a.c=d;b=a.c;f=a.a;a=a.slice(f,f+b);
a.size==b?this.s.readAsText(a):this.c(this);return;case 3:return this[a.f]=b,a.a+=a.c,a.b++,I(this,a,0,21);case 4:switch(b[0]){case ",":a.b=2;b=b.slice(1);break;case ";":a.b++;break;default:return this.c(this)}a.a++;break;case 5:this.h=!0;this.j(this);a.size>a.a&&(b=new G,b.j=this.j,b.c=this.c,Pa(b,a,a.a));return}};function I(a,b,c,d){var e=b.a;c=e+c;b.size>c?a.s.readAsBinaryString(b.slice(e,c+d)):a.c(a)}
function L(){if(z){var a=this.constructor.prototype,b;for(b in a)b.startsWith("_")||"constructor"==b||(this[b]=a[b].bind(this));this.za=[];this.P=!1;this.Y=this.B=null;this.m=!1;this.J=0;this.c={};this.s={};this.a={};this.j={};this.b={};this.o={};this.g={};this.f={};this.I={};this.D={};this.D.ob=[];this.Fa=0;this.N=this.Ea=!1;this.$=!0;this.Ca=!1;this.Ta=this.Ba=this.Sa=1;this.G={};this.h=null;this.Z=1;this.w=null;this.ka=la;this.C=[null,{},{},{}];this.A=this.l=null;this.K=Array(3);this.O=0;this.Aa=
null;this.Da=this.ha=!1;u&&browser.browserAction.disable();y&&browser.runtime.onInstalled.addListener(this.Wa);y||qa.push("about:blank");y||ra.push("about:blank");browser.windows.onCreated.addListener(this.Ma);browser.windows.onRemoved.addListener(this.Na);browser.windows.onFocusChanged.addListener(this.nb);browser.tabs.onActivated.addListener(this.cb);browser.tabs.onUpdated.addListener(this.gb);browser.tabs.onRemoved.addListener(this.fb);browser.tabs.onAttached&&browser.tabs.onAttached.addListener(this.eb);
this.ya();this.na();Qa(this,!0)}}n=L.prototype;n.Wa=function(a){var b=browser.runtime.getManifest().version;a.version=b;this.Ra=a};
n.La=function(a){var b=a.value;a=Fa[b.mode];var c,d;this.K.fill(void 0);if(5==a&&(d=b.pacScript))(c=d.data)?(a=6,c=c.replace(/\blet\b/g,"var").replace(/,(?=(?:\s*\/\/.*?\n)*\s*[\]}])/g,"")):c=d.url,this.K.fill(!0);else if(7==a){b=b.rules;d=b.bypassList;c=M(this,b.singleProxy);if(!c){c=M(this,b.fallbackProxy);var e=M(this,b.proxyForHttp,"http"),f=M(this,b.proxyForHttps,"https"),b=M(this,b.proxyForFtp,"ftp");e!=f||e!=b||e!=c&&c?(c=(e||"")+";"+(f||"")+";"+(b||"")+";"+(c||""),++a):c=e}d&&d.length&&(c+=
";"+d.join(","))}b=5>a?a.toString():c?a+":"+c:null;b!=this.l&&(this.l&&this.la(),this.l=b)};function M(a,b,c){if(b){var d=b.scheme||"http",e="https"==d;a=a.K;c?a[c]=e:a.fill(e);if(Ea(d))return d+"://"+b.host+(b.port?":"+b.port:"")}}function Ra(a,b,c,d){if(b){var e=b.type;if("direct"==e)return"0";"socks"==e&&(e="socks5");if(Ea(e)){var f="1:"+e+"://"+b.host+":"+b.port;"socks5"==e&&b.proxyDNS&&(f+="#");c||d||!(c=a.A)||(c=c.substr(c.indexOf(";")+1||c.length));c&&(f+=";"+c);d&&f&&(a.A=f);return f}}}
n.la=function(a){if(void 0===a){if(u&&this.m){a=new XMLHttpRequest;var b=this.w||"http://"+(this.B?(new URL(this.B.url)).host:A[0])+"/status/204+IDM";a.url=b;a.timeout=1E3;a.onreadystatechange=this.la.bind(this,a);a.open("GET",b,!0);a.send()}}else 4==a.readyState&&(this.w=204==a.status?a.url:null)};
function Qa(a,b){var c=a.c,d=a.G={};browser.contextMenus.removeAll();for(var e=0;e<Sa.length;e++){var f=Sa[e];f[0]&&(y?b||c[f[1]]:1)&&(d[e]=browser.contextMenus.create({title:Ta(f[2]),contexts:f[3].split(","),onclick:f[4].bind(a),documentUrlPatterns:f[5]||qa,enabled:!0}))}}function Ua(a,b,c,d,e){a=a.g;return b in a?a[b]:a[b]=new La(b,c,d,e)}function Xa(a,b,c,d,e,f){a=a.j;var h=[b,c].toString();b=a[h]||(a[h]=new Ma(b,c,d));void 0!==f&&(b.i=f);void 0!==e&&(b.f=e);return b}
function Ya(a){var b=new H;return a.o[b.g]=b}function N(a,b){var c=b instanceof H&&b.g,d=c?b:a.o[b];delete a.o[c||b];return d}function Za(a,b){for(var c=a.C,d=1;d<c.length;d++){var e=c[d][101];if(e&&e.test(b))return d}return 0}
n.na=function(){var a=this.J%(A.length+1);if(a<A.length)this.B=a=new WebSocket("ws://"+A[a]+"/?cid="+Math.random().toString().substr(2,9),"plugin.v3.internetdownloadmanager.com"),a.onopen=this.sa,a.onclose=this.S,a.onmessage=this.bb,1==a.readyState?this.sa():3==a.readyState&&this.S();else{this.Y=a=browser.runtime.connectNative("com.tonec.idm");try{a.postMessage("")}catch(b){a=null}a?(a.onDisconnect.addListener(this.S),a.onMessage.addListener(this.Ya),this.sa()):this.S()}};
n.sa=function(){this.m=!0;this.Ba=1;var a={};a[112]=ha;a[113]=ga;a[114]="Chrome_RenderWidgetHostHWND";a[125]=JSON.stringify(this.Ra);if(587202560<=z){var b=browser.i18n.getUILanguage().replace("_","-");"sr"==b&&(b+="-Cyrl-CS");a[116]=b}O(this,2,1,1024,[9,24,1031,0],a)};
n.S=function(){browser.runtime.lastError;this.B=this.Y=null;if(this.m){this.m=!1;this.I={};for(var a=this.za,b=0;b<a.length;b++){var c=a.splice(b--,1).pop(),d=c.splice(0,2).pop();w&&c.splice(1);d.removeListener.apply(d,c)}this.P=!1;this.l=this.w=null;u&&browser.browserAction.disable()}a=++this.J;b=A.length+1;c=a/b;120>c&&(1==c&&this.$&&this.ma(),!a||a%b?this.na():window.setTimeout(this.na,5E3*c))};n.bb=function(a){var b=new G;b.j=this.Ja;b.c=this.S;Pa(b,a.data)};
n.Ya=function(a){var b=new G;b.j=this.Ja;b.c=this.S;Pa(b,new Blob([a]))};function O(a,b,c,d,e,f){if(!a.m)return!1;var h=a.Ba++;b=new G(h,b,c,d,e,f);if(c=a.B)c.send(Oa(b));else try{a.Y.postMessage(Na(b))}catch(g){return a.S(),!1}d&1&&(a.I[h]=b);return!0}
function $a(a,b){if(b.b){var c=b.b[6],d=a.f[c];if(d)return d.f?b.a=d.a.id:null}var d=b[6],e=b[17],f=b[50],h=b[7],g=a.D,k=a.g,m=a.a,l,q,x;if((l=g[d])||(l=g[e]))return b.a=l.id;if(l=g[f])x=l.id;for(c in k){var g=k[c],r=g.c;if(r){if(r==d||r==e||r==f){l=g.b;if(h){var E=m[l.tabId];E&&E.i!=h&&(l=null)}if(l)return b.a=l.id}r==h&&(q=g.b.id)}}return x?b.a=x:q?b.a=q:null}
n.Ha=function ab(b,c,d,e){if(c)return e?(c=(d=e.shift())&&this.a[d.id])?b.a=c.id:null:null;if(null!=b.a)return b.a;if(b.b){var f=b.b[7];if(f&&this.s[f])return b.a=f}if($a(this,b))return b.a;e=this.s;var h=b[50],g=b[7];for(f in e){c=e[f];if(c.i==h){b.a=f;break}null==b.a&&c.i==g&&(b.a=f)}if(null!=b.a)return b.a;g&&browser.tabs.query({url:g},ab.bind(this,b,!0,d));return null};
n.pa=function(a,b,c,d,e,f){var h=a.tabId,g=a.ba,k=a.u,m=a.c,l;if(void 0===b){f=new P(this,a,!0);if(null==k)if(a.b)browser.tabs.get(h,R(f,2)),browser.windows.getLastFocused(R(f,3));else if(k=this.a[h])a.u=k.u;null==g&&a.i?browser.webNavigation.getAllFrames({tabId:h},R(f,5)):g&&null==m&&browser.webNavigation.getFrame({frameId:g,tabId:h},R(f,4));if(S(f))return}else if(b&&(c&&0<=c.index?a.u=c.windowId:d&&(a.u=d.id),e&&(l=e.parentFrameId),f))for(c=a.i,d=c.includes("#")&&bb(c),e=f.length-1;0<=e;e--)if(k=
f[e],b=k.i,!k.ub&&k.frameId&&(b==c||d&&b==d)){g=a.ba=k.frameId;l=k.parentFrameId;break}if(null==g)a.i||a.postMessage([11,h,null,!0]);else{f=[h,g].toString();0<=l&&(m=a.c=[h,l].toString());if(k=this.j[f])a.l=k.b,a.f=k.c,a.a=k.f,(b=k.U)&&a.i!=b&&(a.U=b),!m&&k.a&&(a.c=k.a);this.a[f]=a;h=[11,h,g,!a.i,a.a,a.f];(g=a.o)&&a.f&&(m=this.C[g],l=Ha[g],h.push(g),ba(h,l.map(da(m))));a.postMessage(h)}};
n.ea=function cb(b,c,d,e,f,h,g,k){var m=db(b,!0);if(!m)return 0;if(1==m){if(!g)return T(b,cb.bind(this,b,c,d,e,f,h,!0)),-1;"object"==typeof k&&(k=U(k))}g=[m];var l={};l[6]=bb(b,1==m);l[50]=c;l[7]=d;l[8]=e;l[100]=f;l[102]=h;l[51]=k;l[54]=navigator.userAgent;l[121]=y?this.A:this.l;O(this,14,1,0,g,l);return 3};
n.Qa=function(a,b,c,d,e){if(!d){if(!a||!a.length)return;c||(c={});var f=new P(this,a,b,c,!0);c.aa&&!c.Oa&&T(c.aa,R(f,4));for(var h=0;h<a.length;h++)T(a[h][0],R(f,5+h));if(S(f))return}e&&(c.Oa=U(e));for(h=0;h<a.length;h++)a[h][5]=U(arguments[h+5]);var f=0,h=[a.length],g={8:4};g[54]=navigator.userAgent;g[7]=c.aa;g[110]=c.V;g[111]=c.Oa;g[121]=y?this.A:this.l;1<a.length&&(O(this,15,1,f,h,g),f=16,g={});for(var h=[0],k;k=a.shift();)g[6]=k[0],g[100]=k[2],g[102]=k[3],g[50]=k[4],g[51]=k[5],O(this,14,1,f,h,
g)};function eb(a,b,c,d,e,f,h,g){if(!d||a.c[-8]){var k=a.a[b];if(k){var m=Ya(a),l=m.g;m.tabId=b;m.B=k;m.N=c;m.l=0;m.P=[];if(k=d&&!!e)m.ha=!0,m.ka=e,m.I=f,m.J=h,m.O=g,e.b||fb(a,e);(d=d&&a.c[12])?(d=d.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\~/g,"(?:.*\\.)?"),d="^(?:http|https|ftp|ftps)://(?:[^\\/]*@)?(?:"+d+")(?::\\d+)?(?:\\W|$)"):d="^(?:http|https|ftp|ftps)://";m.G=gb(a,b,[12,l,c,k,d]);m.Y=0;m.G||N(a,l)}}}
n.R=function(a,b,c){if(4294967295==a)this.h=null,c=!0;else{var d=this.g[a];if(d){c=d.a;if(!c)return;if(b)switch(c){case 3:return;case 2:break;default:d.a=3;window.setTimeout(this.R.bind(this,a,!1,!0),1E3);return}d.a=0;c=!0}}c&&O(this,8,1,32,[a])};function hb(a,b){var c=a.b[b];if(c&&c.ca){var d=c.border,e=c.scale;O(a,7,1,0,[b,Math.round((c.ja+d)*e),Math.round((c.wa+d)*e),Math.round((c.width-d-c.ta)*e),Math.round((c.height-d)*e)])}}
function ib(a,b,c,d){var e=a.g[b],f=256;2==e.a&&(d?(f|=128,e.a=1):f|=64);var h,g,k,m,l;c&&(h=c[0],g=c[1],k=c[2]||h+1,m=c[3]||g+1,l=c[4],c=e.b.j)&&(h+=c[0],g+=c[1],k=Math.min(k+c[0],c[2]),m=Math.min(m+c[1],c[3]));O(a,9,1,f,[b,h,g,k,m,l])}
n.fa=function(a){var b=this.b,c=[];if(a)(a=b[a])&&(a.L||a.M||c.push(a.v));else for(var d in b)a=b[d],a.L||a.M||c.push(a.v);if(c.length){b=[15,null,null];a={};var e=this.g;for(d in e){var f=e[d];f.a&&c.includes(f.b.tabId)&&(f.f?(f=f.b,f.b||fb(this,f,null,a),b[2]=d,f.postMessage(b)):ib(this,d,null,!0))}}};function jb(a,b){var c=a.b[b];c&&!c.M&&V(a,c.v,void 0)}function V(a,b,c){var d=c?0:2;c=c?32:64;var e=a.g,f;for(f in e){var h=e[f];h.a&&h.b.tabId==b&&h.a!=d&&(h.a=d,O(a,8,1,c,[f]))}}
function kb(a,b,c,d){var e=a.O,f=(e&b)!=((c?63:32)&b);a.O=c?e|=b:e&=~b;f&&(c=a.c[-1],b=a.c[-2],c=a.ha=0!=c&&(e&c)==c,e=a.Da=0!=b&&(e&b)==b,a.Aa=(c||e)&&d||null)}n.xa=function(a,b,c,d){var e=this.b[a];if(e)if(d)e.M&&window.clearTimeout(e.M),e.M=window.setTimeout(this.xa.bind(this,a,b,c),d);else if(e.M=null,b&&(browser.windows.get(a,this.W),browser.tabs.query({windowId:a,active:!0},this.W)),c){if((a=this.b[a])&&!a.M){a=a.v;b=this.g;for(var f in b)c=b[f],c.a&&c.b.tabId==a&&1==c.a&&O(this,8,1,1152,[f])}}else this.fa(a)};
n.W=function(a,b){a instanceof Array&&(a=a.shift());if(a){var c=a.windowId||a.id,d=this.b[c];if(d){if(a.windowId){if(d.ra&&ma.test(a.url))return;d.v=a.id;a.width&&(d.va=a.width);a.height&&(d.ua=a.height)}else{var e=b?d.scale=this.Z:d.scale,f="fullscreen"==a.state,h=!b&&f!=d.L;d.L=f;d.Ia="maximized"==a.state;d.qa="minimized"==a.state;w?(d.width=Math.round(a.width/e),d.height=Math.round(a.height/e),d.left=Math.round(a.left/e),d.top=Math.round(a.top/e)):(d.width=a.width,d.height=a.height,d.left=a.left,
d.top=a.top);h&&(f?jb(this,c):this.fa(c))}h=d.va;e=d.ua;if(h&&e){var g=d.width,f=d.height;if(!d.ra&&!d.qa){if(h>g||e>f)return browser.windows.get(c,this.W);d.ra=!0}h=g-h;g=h/2;0<=g&&20>=g?(d.border=g,d.ja=d.ta=0):(g=d.border,y||fa?d.ja=h-2*g:d.ta=h-2*g);e=f-e-2*g;e<=ka&&(d.wa=e)}b||hb(this,c);return d}}};
function fb(a,b,c,d){a=a.a;c=[16,c];for(var e=[b],f;f=a[b.c];b=f){if(d)if(d[b.id])break;else d[b.id]=!0;e.push(f)}for(f=e.pop();b=e.pop();f=b)d=b.Va,c[2]=d,c[3]=b.ba,c[4]=d?null:b.i,c[5]=d?null:b.U,f.postMessage(c)}function gb(a,b,c){a=a.a;b=[b,null].toString();var d=0,e;for(e in a)e.startsWith(b)&&(a[e].postMessage(c),d++);return d}
n.ia=function(a,b){var c={file:"content.js",runAt:"document_start",allFrames:!0},d;620756992<=z&&(c.matchAboutBlank=!0);654311424<=z&&!w&&b&&(c.frameId=b,y&&(c.allFrames=!1));if(a instanceof Array)for(;d=a.shift();)try{d.discarded||browser.tabs.executeScript(d.id,c,lb)}catch(e){}else if(d=a)try{browser.tabs.executeScript(d.id||d,c,lb)}catch(e){}};
function mb(a,b,c,d){var e=17,f=[b.u,b.ca,b.width,b.height,b.left,b.top,b.scale],h={};b.Ia&&(e|=256);b.qa&&(e|=512);null!=c&&(e|=c?2048:1024);d&&(h[117]=d);O(a,6,2,e,f,h)}n.ya=function(a,b){if(b)for(;b.length;){var c=b.shift(),d=this.W(c,!0)||this.Ma(c,!0);mb(this,d,c.focused,c.title)}else if(!a){c=this.ya.bind(this,!0);try{browser.windows.getAll({windowTypes:["normal","popup"]},c)}catch(e){browser.windows.getAll(c)}}};
n.oa=function(a,b){if(!this.m)return nb(b.id,"cannot_contact_idm");var c=a.linkUrl,d=a.pageUrl,e=d;if(a.menuItemId==this.G[4])return browser.downloads.search({query:[c]},this.Ua.bind(this,c));if(a.menuItemId==this.G[1])c=a.frameUrl,c&&"about:blank"!=c||(c=d,e=null);else if(!c){var c=a.srcUrl,f=this.a[[b.id,a.frameId].toString()];if(f){var h=Ya(this);h.tabId=b.id;h.B=f;h.K=c;h.$=e;h.aa=d;h.m=4;return f.postMessage([18,h.g,c])}}c&&this.ea(c,e,d,4)};
n.Ga=function(a,b){if(!this.m)return nb(b.id,"cannot_contact_idm");eb(this,b.id,a.menuItemId==this.G[2])};n.Ua=function(a,b){for(var c,d,e;c=b.pop();)c.exists&&"complete"==c.state?d||e||(e=c.referrer):(d||(d=c.referrer),browser.downloads.erase({id:c.id}));this.ea(a,d||e,null,4)};
n.Za=function(a){var b=a.sender.tab;if(b&&!(0>b.id)){a.name=a.name.split(":").shift();var c=a.id;null==c&&(c=a.id=a.portId_||this.Sa++);var d=b.id,e="top"==a.name;a.tabId=d;a.u=0>b.index?null:b.windowId;a.g=!0;a.h=!1;a.b=e;a.ba=e?0:a.sender.frameId;a.m=0;a.i=a.sender.url||e&&b.url||null;a.U=null;this.s[c]=a;e&&(this.a[d]=a);a.i&&(a.o=Za(this,(new URL(a.i)).hostname));a.onMessage.addListener(this.$a.bind(this,a));a.onDisconnect.addListener(this.da);this.pa(a)}};
n.da=function(a,b,c){browser.runtime.lastError;if(a.g){c||(a.g=!1);var d=this.D,e=this.g,f=this.f,h=this.o,g,k,m;for(m in d)d[m]===a&&delete d[m];for(var l in e)if(g=e[l],g.b===a)g.a&&this.R(l),delete e[l];for(l in f)(k=f[l],k.a!==a||k.c)||(delete f[l],w&&delete f[k.id]);for(l in h)h[l].B===a&&delete h[l];this.Aa===a&&kb(this,63,!1);if(!c)if(c=a.tabId,d=a.ba,a.b&&delete this.a[c],delete this.a[[c,d]],delete this.s[a.id],w&&!b)browser.tabs.executeScript(a.tabId,{code:"__idm_connect__ && __idm_connect__(); true;"},
lb);else for(l in a=[c,d].toString(),b=this.j,b)a==b[l].a&&delete b[l]}};
n.$a=function(a,b){switch(b[0]){case 21:var c=b[1],d=b[2];c&&(a.i=c,null==a.ba&&this.pa(a),a.a&&!d&&(a.a=!1));break;case 22:var d=this.a,e=d[[a.tabId,b[2]]];e&&(e.Va=b[3],c=e.j=b[4],d=d[e.c])&&(d=d.j)&&(c[0]+=d[0],c[1]+=d[1],c[2]=Math.min(c[2]+d[0],d[2]),c[3]=Math.min(c[3]+d[1],d[3]));break;case 23:var c=a.u,f=a.tabId,h=b[1],d=b[2],e=b[4],g=this.b[c];if(h){if(h=N(this,h)){var g=f==g.v&&!g.L,k=!d||!e;k&&(d=f);if(f=b[7])h[101]||h.f&&h.V&&h.f!=h.V||(h.f=f),h.V=f;var f=Ua(this,d,a,k?null:b[5],k?null:
b[6]),m=g&&!f.a;f.a=g?1:2;h instanceof G&&W(this,h,2,(g?128:64)|(k?512:0),c,d,h.f);k||(ib(this,d,e),m&&window.setTimeout(this.fa.bind(this,c),3E3))}}else b[3]?(this.R(d,!0),delete this.g[d]):e&&f==g.v&&!g.L&&ib(this,d,e,!0);break;case 24:c=b[2];(d=this.o[b[1]])&&c&&(d[101]||d.f&&d.V&&d.f!=d.V||(d.f=c),d.V=c);break;case 25:Ua(this,b[1],a,b[2],b[3]);break;case 26:eb(this,a.tabId,!0,!0,a,b[1],b[2],b[3]);break;case 27:if(c=this.o[b[1]]){d=c.tabId;e=c.P;if(h=b[4])if("string"==typeof h&&(h=JSON.parse(h)),
h instanceof Array){if(g=b[5])for(k=0;k<h.length;k++)h[k][4]=g;ba(e,h)}b[3]&&(c.l+=b[3]);b[6]&&(c.aa=b[6]);b[7]&&(c.V=b[7]);++c.Y==c.G&&(N(this,c),c.ha?(e=this.b[c.B.u])&&e.v==d&&c.l&&(h=c.O,g=e.border,k=e.scale,O(this,10,1,0,[4294967295,e.u,Math.round(c.I*h+(e.ja+g)*k),Math.round(c.J*h+(e.wa+g)*k),0,c.l]),this.h=d,gb(this,d,[13,!0])):e.length?this.Qa(e,c.N,c):nb(d,"cannot_find_links"))}break;case 28:this.R(4294967295);break;case 29:ob(this,a.u,a.tabId);break;case 30:ob(this,a.u,a.tabId,b[1],b[2]);
break;case 31:(c=Ia[b[1]])&&kb(this,c,b[2],a);break;case 32:0==b[1]&&kb(this,32,b[2],a);break;case 33:kb(this,63,!1);break;case 34:c=b[2];d=b[3];e=b[4];b[1]&&(h=a.l)&&(h=[h,d||0],g={},k=32,g[110]=c,g[115]=e,-2==d&&(k|=16),O(this,16,1,k,h,g));break;case 35:c=b[2];d=b[3];(e=N(this,b[1]))&&this.ea(e.K,e.$,e.aa,e.m,c,d);break;case 36:e=b[1];c=b[2];if(d=this.f[e])e=[e,0],h={},h[115]=c,O(this,16,1,48,e,h),d.m=!1,d.D&&X(this,d);break;case 37:O(this,19,1,0,[b[1],b[2],a.tabId],b[3])}};
n.Ja=function(a){var b=a.A,c=a.D,d=a.m,e=a.b,f;if(1==b){var h=e[0];if(f=this.I[h])b=f.A,delete this.I[h]}switch(b){case 3:0<=this.J&&(this.J=-1,this.la());9>e[0]&&(this.Ca=!0);if(d=e[4])d/=96,u&&(d=620756992>z?1:620756992<=z&&621284967>z?d:637534208<=z&&638078312>z?d:1.24<d?d:1),this.Z=d,this.ya();pb(this,e[6],a);this.$&&this.ma();break;case 4:var g=this.c;this.N=!!(e[3]&2147483648);pb(this,e[2],a);g[-9]=0<(d&64);g[-8]=0<(d&32);g[-4]=0<(d&2);g[-11]=0<(d&256)||2>c;g[-12]=0<(d&512)||2>c;g[-1]=e[0];
g[-2]=e[1];g[12]=a[12];g[17]=a[17];Y(g,a,1);Y(g,a,2);Y(g,a,3);Y(g,a,4);Y(g,a,10);Y(g,a,9,1);Y(g,a,11,1);Y(g,a,20,0,0,"TXT|HTM|HTML|CSS|JS|APNG|GIF|ICO|JPEG|JPG|PNG|SVG|WEBP");Y(g,a,21,0,1,"/*-internal-*/**");qb(g,a,19);qb(g,a,18,1,1);Qa(this);this.P||(this.P=!0,u&&browser.browserAction.enable(),this.H(1,browser.runtime.onConnect,this.Za),this.H(1,browser.webNavigation.onCommitted,this.Ka),this.H(1,browser.webNavigation.onHistoryStateUpdated,this.Xa),u&&this.H(1,browser.proxy.settings.onChange,this.La),
u&&browser.proxy.settings.get({},this.La),a=["*://*/*"],d=Aa?void 0:B,e=["requestHeaders","blocking"],u&&1207959552<=z&&e.push("extraHeaders"),this.H(3,browser.webRequest.onBeforeRequest,this.ib,{urls:["*://*/*","ftp://*/*"],types:d},["requestBody","blocking"]),this.H(3,browser.webRequest.onBeforeSendHeaders,this.jb,{urls:a,types:d},e),this.H(3,browser.webRequest.onHeadersReceived,this.lb,{urls:a,types:d},["responseHeaders","blocking"]),this.H(3,browser.webRequest.onResponseStarted,this.mb,{urls:a,
types:d}),this.H(3,browser.webRequest.onErrorOccurred,this.kb,{urls:a,types:d}),(a=this.c[17])&&this.H(2,browser.webRequest.onBeforeRequest,this.hb,{urls:a.split("|"),types:na},["blocking"]),browser.tabs.query({url:sa[0]},this.ia));break;case 18:d=e[0];if(3<d)break;c=Ga[d];e=this.C[d];for(g in a)(g=parseInt(g))&&(102==g||110<g&&150>g)&&(e[g]=c.includes(g)?RegExp(a[g]):a[g]);Y(e,a,101,1);g=this.C.filter(ca).map(ea(102));this.ka=RegExp("^https?://(?:"+g.join("|")+")","i");1==d&&(e[-115]=a[115],e[122]||
(e[122]="yt"));break;case 5:a=e[0];(e=this.b[a])?(d=0!=(d&128),e.L!=d&&(e.L=d)&&jb(this,a)):this.Na(a);break;case 6:if(d&4)break;a=f.b[0];d=e[1];if(e=this.b[a])e.ca=d,hb(this,a);break;case 8:a=e[0];d&=32;if(4294967295==a)gb(this,this.h,[13,!1]),this.h=null;else if(a=this.g[a])a.a=d?0:2;break;case 11:a=e[0];4294967295==a&&(eb(this,this.h,!0,!0),this.h=null);break;case 12:try{var k=a.b[5],m=a[4],d=4==k?2:3;if((1==k||2==k)&&$a(this,a)){if(this.c[3].test(m))1==k?d=6:k=4;else if(this.c[-4]||this.c[4].test(m))d=
6;a[8]|=256}if(4==k)if(this.Ca&&!a.b[7])W(this,a,1);else{switch(a.b[4]){case 1:a[7]||(a[7]=a[50]);break;case 3:a[7]||(a[7]=a[32]),a[50]||(a[50]=a[31])}this.Pa(a)}else W(this,a,d)}catch(l){W(this,a,0)}break;case 13:a=f.b[0];d=f.b[5];e=e[1];if(1==d||2==d)X(this,a,3==e);else if(5==d)if(e){if(a=(g=this.f[a])&&g.j){c=g.method;d=g.requestHeaders;if(e=g.b)(e=rb(e,Z(d,"Content-Type")))||(c="GET");a.timeout=1E4;a.onreadystatechange=this.ab.bind(this,a,g.id);a.open(c,g.url,!0);for(g=0;g<d.length;g++)c=d[g],
f=c.name,Ba(f.toLowerCase())&&(f="X-IDM-"+f),a.setRequestHeader(f,c.value);a.send(e)}}else sb(this,a);break;case 20:d=a[123];e=!d;a=[a.w,0,0,0];g={};y&&(c=this.A)&&(g[122]=c,e||(e=c.substr(2).split(";",1).shift()==d));g[121]=this.l;O(this,1,1,e?2:4,a,g);break;case 1:break;default:!f&&d&1&&O(this,1,1,0,[a.w,0,0,0])}};
n.Pa=function(a,b,c){try{if(null==a.a)if(!b){var d=new P(this,a,!0);this.Ha(a,null,d)||browser.windows.getLastFocused(R(d,2));if(S(d))return}else if(c){var e=this.b[c.id],f=this.a[e&&e.v];f&&(a.a=f.id)}var h=this.s[a.a];if(!h)return W(this,a,0);var g;var k=a.g;k||(k=H.prototype.C++,a.g=k,this.o[k]=a);g=k;h.b||((f=this.a[h.tabId])&&f.postMessage([14,g]),fb(this,h,g));h.postMessage([15,g,null,a[6],a[17],a[50],a[31]])}catch(m){W(this,a,0)}};
function W(a,b,c,d,e,f,h){-1!=c&&(e=[b.w,c,e,f],f={},f[8]=b[8],h&&(f[110]=h),O(a,1,1,d|(0==c?4:2),e,f))}n.Ka=function(a,b){var c=a.tabId,d=a.frameId,e=a.url,f=a.vb,f=f&&f.endsWith("_subframe"),h=this.a[[c,d]];if(h){if(this.h){var g=this.b[h.u];g&&g.v==this.h&&this.R(4294967295)}b?e!=h.i&&(this.da(h,!1,!0),h.i=e,h.m++,h.postMessage([17,!1,h.f])):(this.da(h,!0),f&&"about:blank"==h.i&&this.ia(c,d))}else f&&"about:blank"==e&&(Xa(this,c,d,a.parentFrameId),this.ia(c,d))};
n.Xa=function(a){return this.Ka(a,!0)};n.Ma=function(a,b){var c=a.id,d={u:c,width:a.width,height:a.height,left:a.left,top:a.top,scale:this.Z,border:8,wa:ja,ja:0,ta:0,Ia:"maximized"==a.state,qa:"minimized"==a.state,L:"fullscreen"==a.state,ua:0,va:0,v:0,ra:!y,ca:null,M:null};this.b[c]=d;b&&(browser.tabs.query({windowId:c,active:!0},this.W),browser.tabs.query({windowId:c,url:sa[0]},this.pb),browser.tabs.query({windowId:c,url:sa[0]},this.ia));return d};
n.pb=function(a){for(var b;b=a.shift();)Xa(this,b.id,0,-1,!0,b.url)};n.Na=function(a){O(this,5,1,32,[a]);delete this.b[a]};n.nb=function(a){if(0<a){var b=this.b[a];b&&(b.ca||mb(this,b,!0),(b=this.a[b.v])&&b.a&&(b.a=!1,browser.tabs.reload(b.tabId)),w&&this.xa(a,!1,!0,500))}};n.gb=function(a,b,c){var d=c.windowId,e=this.b[d];e&&(e.ca||mb(this,e),e.v||this.W(c));"complete"==b.status&&(a=this.a[a])&&!a.h&&(a.h=!0,this.fa(d))};
n.fb=function(a){var b=this.a,c=a.toString()+",";(a=b[a])&&this.da(a,!0);for(var d in b)d.startsWith(c)&&this.da(b[d],!0)};n.cb=function(a){this.O=0;this.h&&this.R(4294967295);var b=a.windowId;a=a.tabId;var c,d=this.a[a];d&&(d.u||(d.u=b),(c=d.a)&&(d.a=!1));if(d=this.b[b])V(this,d.v),d.v=a,browser.tabs.get(a,this.W),c||this.fa(b);c&&browser.tabs.reload(a)};n.eb=function(a,b){var c=b.newWindowId,d=this.s,e;for(e in d)(e=d[e])&&e.tabId==a&&(e.u=c);V(this,a,!0)};
function ob(a,b,c,d,e){a.h&&a.R(4294967295);var f=a.b[b];f&&f.v==c&&(d&&(f.va=d),e&&(f.ua=e),V(a,c),a.xa(b,d||e,!1,250))}function sb(a,b){var c=a.f[b];if(c){var d=c.j;c.m=!1;c.j=null;c.D&&X(a,c);d&&d.abort()}}n.ab=function(a,b){if(4==a.readyState){var c=[b,0],d={};200==a.status&&(d[115]=a.response);O(this,16,1,48,c,d);sb(this,b)}};
function tb(a,b){var c=a.c;if(!c[-9]||b.s)return 1;if(b.w)return b.h=2052,3;var d=b.B,e=b.f;if(e&&c[-4]||c[9].test(d.hostname)||c[19].test(d.href))return 1;var f=b.K=ub(d.pathname),h=c[1];if(b.G&&2==(b.g&7)){if(d.pathname.endsWith("/")||c[21].test(d.pathname)||!(h.test(f)||a.N&&!c[20].test(f)))return 1;b.h=8;return 3}var g=c[18],k=d.search?null:f,m=oa.includes(b.type),l=!m&&g.exec(d.href);if(l)for(var q=g.qb,x=g.sb,r=g.rb,E=g.tb,g=1;g<l.length;++g)if(l[g]){var q=q[--g],v,l=0;if(e&&!q.includes("S"))return 1;
q.includes("G")&&(v=!0,l|="GET"==b.method);q.includes("P")&&(v=!0,l|="POST"==b.method);if(v&&!l)break;var l=E[g],t,F,C;if(l){l=l.exec(d.href);if(!l)break;d=r[g];if(r=d.F)C=!0,F=l[r];if(r=d.T)C=!0,t=l[r]}t||(t=ub(F)||q.includes("T")&&(C=!0,f)||x[g]);if(t?!h.test(t):C)break;b.h=16777224;return 3}return k&&(m&&c[2].test(k)||e&&c[4].test(k))?1:6}
function vb(a,b){if(b.P)return a.X(6,b),6;var c=b.statusCode;if(200!=c&&206!=c)return 1;var d=Z(b.responseHeaders,"Content-Type"),e=Z(b.responseHeaders,"Content-Disposition"),f=wb(d).toLowerCase(),c="attachment"==wb(e).toLowerCase(),h=b.tabId,g=b.f,k=b.O;if(k&&!c&&"text/html"==f){if(b.c){var m=a.j[[h,b.frameId]];m&&(m.c=!0);a.X(5,b)}return 1}if(g?b.s:b.o)return 1;if(a.N&&k&&c)return b.h=16,3;var l,q,x,r,E,v,t,F,C=a.c,k=b.B,Q=k.hostname,J=k.pathname,e=(d=xb(e,"filename")||xb(d,"name"))&&ub(d);if(d)if(e)b.C=
d,t=F=!0;else if(!g)return 1;F||(d=J.split("/").pop(),(e=b.K||ub(d))&&e.toLowerCase()==f.split("/").pop()&&(t=!0));if(!t){var D=C[10].test(f),K=Ka[f];K&&(K=K.split("|"),e&&K.includes(e)?t=!0:(g?D:e)||(e=K.shift(),t=!0));e&&!t&&(c||D||!K&&!wa.test(e))&&(t=!0)}if(g){K=Za(a,Q);D=a.C[K];switch(K){case 1:if(D[111].test(J))l=t=!0;else if(D[112].test(J)&&"text/xml"==f)q=!0;else if(D[115].test(J+k.search)&&"application/json"==f)E=!0;else if(D[113].test(J)&&"application/x-www-form-urlencoded"==f||D[114].test(J)&&
"video/vnd.mpeg.dash.mpd"==f)x=!0;break;case 2:(Q=D[111].exec(J+k.search)||D[111].exec(J))&&"application/x-javascript"==f?(f=D[112].exec(b.a.i))&&Q[1]!=f[1]||(x=!0):c&&"image"==b.type&&"MP4"==e&&(v=!0);break;case 3:"M4S"==e&&(t=!0),Q==D[111]&&D[112].test(J)&&"application/json"==f&&(x=!0)}t&&("M3U8"==e||"F4M"==e?x=!0:"F4F"==e&&(d.endsWith("Seg1-Frag1")||d.endsWith("Seg1-Frag2")||d.includes("Seg1-Frag2_"))&&(r=!0));"ASF"==e&&((f=Z(b.responseHeaders,"Content-Length"))&&102400>=parseInt(f)&&(v=!0),"DCLK-AdSvr"==
Z(b.responseHeaders,"Server")&&(v=!0))}if(v)return 1;t&&(g&&C[3].test(e)?l=!0:g&&C[4].test(e)?b.o=!0:!b.o&&C[1].test(e)&&(m=!0));if(l){var Va,Wa;if(v=C[11])v.test(k.hostname)?l=!1:(Va=a.a[h])&&(Wa=Va.i)&&v.test((new URL(Wa)).hostname)&&(l=!1)}x||r?"POST"!=b.method||b.b?(q=new XMLHttpRequest,q.responseType=r?"blob":"text",b.j=q,q=!0):q=!1:E&&(q=b.m=!0);if(!m&&!l&&!q)return 1;t&&(b.N=e);F&&(b.C=d);b.c|=q;b.h=l||q?256:16|(g?4096:0)|(F||c?0:8388608);return m?4:l?2:5}
n.X=function yb(b,c,d,e,f){var h=c.url,g=c.g,k=1==(g&7),m=c.requestHeaders;if(null==e&&k&&(f=Z(m,"Cookie"),null==f))return T(h,yb.bind(this,b,c,d,!0)),!0;"object"==typeof f&&(f=U(f));var l=c.id,q=c.a&&c.a.id,x=c.timeStamp,r=c.h,E=c.responseHeaders,v=c.I;e=0;g&16&&(r|=2097152);"POST"==c.method&&(r|=512);d&&d.ip&&(r|=d.ip.includes(":")?4194304:33554432);y&&4>b&&(e|=1);c.c&&c.j&&(e|=1);c.c&&5!=b&&(e|=16);c.f&&(e|=16);d=[l,q,Math.floor(x/1E3),Math.floor(x%1E3*1E3),g&7,b];g={};g[6]=bb(h,k&&4>b);g[17]=
c.U;g[4]=c.N;g[100]=c.C;g[8]=r;g[122]=this.l;g[11]=zb(m);g[13]=zb(E);g[18]=zb(v);c.b&&(g[14]=rb(c.b,Z(m,"Content-Type")));c.A&&(g[19]=rb(c.A,Z(v,"Content-Type")));if(null==m){b=this.j;h=[c.tabId,c.frameId];do h=(k=b[h])&&k.a,k=k&&k.i,"about:blank"==k&&(k=null);while(!k&&h);g[50]=k;g[51]=f;g[54]=navigator.userAgent}y&&(g[122]=Ra(this,c.proxyInfo,Z(m,"Proxy-Authorization")),g[55]=Ra(this,c.J,Z(v,"Proxy-Authorization")));if(c=this.a[c.tabId])g[7]=c.i,g[110]=c.title;return O(this,13,1,e,d,g)};
n.ga=function Ab(b,c,d,e,f){if(void 0===b)c.resolve=e,c.reject=f;else return b=this.X(b,c,d),y&&b?new Promise(Ab.bind(this,void 0,c,null)):X(this,c,b)};
function X(a,b,c){var d=a.f,e,f;if("object"==typeof b)e=b.requestId;else if(!(b=d[e=b]))return;c&&(f=0<b.statusCode,0>b.tabId?f={cancel:!0}:u&&f&&587202560>z?(f=[{name:"Connection",value:"close"},{name:"Content-Type",value:"multipart/related"},{name:"Content-Length",value:"0"}],f={responseHeaders:f}):u||(y?f&&939524096>z:f)?(f=a.w,f||(f=(a=a.j[[b.tabId,b.frameId]])&&!a.g?xa+"?back=1":xa),f={redirectUrl:f}):f={cancel:!0});(a=b.resolve)&&void 0!==c&&(b.resolve=b.reject=null,a(f||{}));if(c=b.reject)b.resolve=
b.reject=null,c();if(b.j||b.m)return b.D=!0,f;delete d[e];w&&delete d[b.id];return f}n.hb=function(a){var b=new URL(a.url);if(b.search.startsWith("?d=")){var c=this.a[a.tabId];this.ea("idmreg:"+b.href.substr(b.protocol.length),null,c&&c.i);X(this,a.requestId);return{redirectUrl:xa+"?register=1"}}};
n.ib=function(a){if(!Aa||B.includes(a.type)){var b=a.tabId,c=a.frameId;if(!(0>b||0>c)){var d=a.url,e=a.method,f=db(d);if(f&&("GET"==e||"POST"==e)&&d!=this.w){var h=a.requestId,g=this.f[h],k=this.a[[b,c]],m=a.type.endsWith("_frame"),l="POST"==e,e=this.Da;y&&l&&g&&Da(g.statusCode)&&(a.method="GET",l=!1);m&&(c=Xa(this,b,c,a.parentFrameId,!1),c.b!=h&&(c.b=h,c.h=d,c.c=!1),c.g=l);if(k||m||g){if(!e&&l&&a.requestBody){h=a.requestBody;if(c=h.raw)for(l=0;l<c.length&&(c[l].bytes||(c=null));l++);if(!(c||h.formData||
u&&h.error))return}h=new URL(d);h.hash="";a.B=h;a.g=f;a.w=this.ha;a.s=e;a.O=m;a.f=0<b&&pa.includes(a.type);a.c=this.ka.test(d);a.b=a.requestBody;a.a=k;a.G=f&8||y?a.proxyInfo&&"https"==a.proxyInfo.type:this.K[f];g&&(a.id=g.id,a.a=k=g.a,a.w=g.w,a.s=g.s,a.U=g.U||g.url,a.I=g.I||g.requestHeaders,a.A=g.A||g.b,y&&(a.J=g.J||g.proxyInfo));if(a.f&&"image"!=a.type){b=this.D;for(f=b.ob;30<=f.length;)delete b[f.shift()];b[d]=k;f.push(d)}switch(a.l=tb(this,a)){case 1:a.o=!0;case 6:k=this.f;b=a.requestId;k[b]!==
a&&(k[b]=a,d=a.id,d||(d=a.id=w?String(this.Ta++):b),d!=b&&(k[d]=a,a=this.j[[a.tabId,a.frameId]]))&&(a.b=d);break;case 3:return this.ga(3,a)}}}}}};
n.jb=function(a){var b=this.f[a.requestId];if(b){a=b.requestHeaders=a.requestHeaders;y&&b.proxyInfo&&Ra(this,b.proxyInfo,Z(a,"Proxy-Authorization"),!0);if("POST"==b.method&&(!b.b||b.b.error&&0<Z(a,"Content-Length")))return X(this,b);a:{if(y&&b.G){if(b.o||b.f){a=6;break a}a=this.c;var c=b.B,d=b.K;if(d&&!c.search&&a[1].test(d)){b.h=8;a=4;break a}}a=6}switch(b.l=a){case 4:return this.ga(1,b)}}else if(0>a.tabId&&"xmlhttprequest"==a.type&&(a.initiator?a.initiator==ya:a.originUrl?a.originUrl==za:1)){b=
a.requestHeaders;a={};c=!1;for(d=0;d<b.length;d++){var e=b[d],f=e.name.toLowerCase();f.startsWith("x-idm-")?a[f.substr(6)]=c=!0:"origin"==f&&e.value==ya&&(a[f]=c=!0)}if(c){for(d=0;d<b.length;d++)e=b[d],f=e.name.toLowerCase(),a[f]?b.splice(d--,1):f.startsWith("x-idm-")&&(e.name=e.name.substr(6));return{requestHeaders:b}}}};
n.lb=function(a){var b=this.f[a.requestId];if(b){var c=a.responseHeaders;if("image"==b.type){var d=Z(c,"Content-Type");if(d&&d.toLowerCase().startsWith("image/"))return X(this,b)}"quic"==Z(c,"Client-Protocol")?b.g|=16:(d=Z(c,"Alternate-Protocol"))&&d.endsWith(":quic,p=0")&&"chunked"!=Z(c,"Transfer-Encoding")&&(b.g|=16);d=b.statusLine=a.statusLine;d=b.statusCode=a.statusCode||parseInt(d.split(" ",2).pop());b.P=Ca(d);b.responseHeaders=c;switch(b.l=vb(this,b)){case 1:return X(this,b);case 3:return this.ga(3,
b,a);case 4:return this.ga(2,b,a)}if(b.m)return c.push({name:"X-IDM-Request-ID",value:b.id.toString()}),{responseHeaders:c}}};n.mb=function(a){if(a.type.endsWith("_frame")&&(200==a.statusCode||304==a.statusCode)){var b=this.j[[a.tabId,a.frameId]];b&&(b.i=a.url,b.U=b.h)}if(b=this.f[a.requestId])2==b.l?this.X(4,b,a):5==b.l&&this.X(5,b,a),X(this,b)};n.kb=function(a){X(this,a.requestId)};
n.ma=function(a,b,c,d,e){if(void 0===a&&(this.$=!1,a=new P(this,!0),browser.storage.local.get("version",R(a,1)),(y?1124073472<=z:w?1073741824<=z:1)&&browser.extension.isAllowedIncognitoAccess(R(a,2)),u&&browser.management.get("jeaohhlajejodfjadcponpnjgkiikocn",R(a,3)),fa&&"ngpampappnmepgilojfohadhhmbhlaek"!=browser.runtime.id&&browser.management.get("ngpampappnmepgilojfohadhhmbhlaek",R(a,4)),S(a)))return;a=browser.runtime.getManifest();a=a.version||"";"object"==typeof b&&(b=b.version||"");c=null!=
c&&!c;"object"==typeof d&&(d=d.enabled&&d.id);d&&browser.management.setEnabled(d,!1);"object"==typeof e&&(e=e.enabled&&e.id);e&&browser.management.setEnabled(e,!1);d=this.Fa;e=this.Ea;a&&a!=b&&null!=b&&(browser.storage.local.set({version:a}),b&&d&&!e||(a="current="+escape(a),b&&(a+="&previous="+escape(b)),d&&(a+="&manager="+(d?[d>>24&255,d>>16&255,d>>8&255,d&255].join("."):"")),e&&(a+="&update=1"),c&&(a+="&incognito=1"),w&&(a+="&msedge=1"),y&&(a+="&mzffox=1"),fa&&(a+="&opera=1"),browser.tabs.create({url:browser.runtime.getURL("welcome.html?"+
a)})))};function pb(a,b,c){b||(b=(b=ua.exec(c[13]))?b[1]<<24|b[2]<<16|b[3]<<8:0);a.Fa=b;a.Ea=102826752>b}function nb(a,b){var c=browser.i18n.getMessage(b);y?browser.tabs.executeScript(a,{code:'window.alert(unescape("'+escape(c)+'")); true;'},lb):window.alert(c)}n.H=function(a,b,c){var d=aa(arguments);if(y||w)d[2]=function(){return c.apply(null,arguments)};this.za.push(d);b.addListener.apply(b,d.slice(2))};
function P(a,b){this.caller=arguments.callee.caller;this.f=a;this.b=aa(arguments,1);this.a=0;this.g=this.c=!1}function R(a,b){a.a++;return a.h.bind(a,b)}function S(a){return a.a?a.c=!0:a.g?(a.caller.apply(a.f,a.b),!0):!1}P.prototype.h=function(a,b){browser.runtime.lastError;this.b[a]=b;0==--this.a&&(this.c?this.caller.apply(this.f,this.b):this.g=!0)};function Ta(a){return browser.i18n.getMessage(a)||a}
function bb(a,b){var c=a.lastIndexOf("#");c>a.indexOf("?")&&(a=a.substr(0,c));b&&!va.test(a)&&(a="idmfc"+a);return a}function T(a,b){if(w&&a.startsWith("ftp:"))b([]);else{var c={url:a};ia&&(c.firstPartyDomain=null);browser.cookies.getAll(c,b)}}function U(a){var b="";if(a&&a.length)for(var c=0;c<a.length;c++)b&&(b+="; "),b+=a[c].name,b+="=",b+=a[c].value;return b}function zb(a){if(!a||!a.length)return null;for(var b="",c=0;c<a.length;c++)b+=a[c].name,b+=": ",b+=a[c].value,b+="\n";return b}
function Z(a,b){if(!a)return null;b=b.toLowerCase();for(var c=0;c<a.length;c++)if(a[c].name.toLowerCase()==b)return a[c].value;return null}
function xb(a,b){if(!a)return null;var c,d,e=a.split(";");for(b=b.toLowerCase();e.length;){var f=e.shift(),h=f.indexOf("=");if(0<h){var g=f.substr(0,h).trim().toLowerCase(),k="*"==g[g.length-1];if(k)g=g.substr(0,g.length-1).trimRight();else if(d)continue;if(g==b)if(f=f.substr(h+1).trim(),h=f.length-1,'"'==f[0]&&'"'==f[h]&&(f=f.substring(1,h)),k){if(f=f.split("'",3),k=f.shift().toLowerCase(),(h="utf-8"==k||"utf8"==k)||!d)if(c=unescape(f.pop()),d=k,h)break}else c=unescape(f)}else 0>h&&null==c&&f.trim().toLowerCase()==
b&&(c="")}return c}function wb(a){var b=/[;,]/;return a&&(a=a.split(b,1).shift().trim())&&!a.includes("=")&&unescape(a)||""}
function rb(a,b){var c=a.raw;if(c){for(var d=String.fromCharCode,e="",f=0;f<c.length;f++){var h=c[f].bytes;if(!h)return null;for(var h=new Uint8Array(h),g=h.length,k=0;k<g;k++)e+=d(h[k])}return e}c=a.formData;if(!c)return null;f=wb(b).toLowerCase();e=[];if(f&&"application/x-www-form-urlencoded"!=f)if("multipart/form-data"==f){(h=xb(b,"boundary"))||(h="----WebKitFormBoundary"+Math.random().toString(36).substr(2));for(d in c)for(g=c[d],f=0;f<g.length;f++)e.push("--",h,'\r\nContent-Disposition: form-data; name="',
d,'"\r\n\r\n',g[f],"\r\n");e.push("--",h,"--\r\n")}else return null;else for(d in c)for(g=c[d],d=d.split(" ").map(encodeURIComponent).join("+"),f=0;f<g.length;f++)e.length&&e.push("&"),e.push(d,"=",g[f].split(" ").map(encodeURIComponent).join("+"));return e.join("")}function ub(a){return(a=ta.exec(a))?a.pop().toUpperCase():""}function db(a,b){var c=a.split(":",1).shift().toLowerCase(),c=Ja[c]||0;return b?c&7:c}
function Bb(a){if(void 0===a){var b=navigator.userAgent;a=b.match(/\b(?!(?:Safari|Chrome|Gecko)\/)\w+\/(\d+)(?:.(\d+))?(?:.(\d+))?(?:.(\d+))?\b(?!.*[()])/);if(b=y?a:b.match(/\bChrome\/(\d+)\.(\d+)\.(\d+)\.(\d+)\b/)){z=b[1]<<24|b[2]<<22|b[3]<<8|b[4];ga=b[0];ha=a?a[0]:b[0];browser.runtime.getBrowserInfo&&browser.runtime.getBrowserInfo(Bb);try{y&&browser.privacy.websites.firstPartyIsolate.get({},Bb)}catch(c){}if(a=browser.webRequest.ResourceType)if(a.MEDIA&&(B.push("media"),pa.push("media")),a.OBJECT_SUBREQUEST||
(Aa=y&&922746880>z))B.push("object_subrequest"),pa.push("object_subrequest")}}else"version"in a?(b=a.version.split(/\D+/),z=b[0]<<24|b[1]<<22|b[2]<<8|b[3],ga=ha=a.name+"/"+a.version):"value"in a&&(ia=a.value)}
function Y(a,b,c,d,e,f){if(b=b[c]||f)try{b=b.replace(/^\|+|\|+(?=\||$)/g,"").replace(/\./g,"\\."),b=e?b.replace(/\?/g,"[^/\\\\]").replace(/(^|[^*])\*(?!\*)/g,"$1[^/\\\\]*").replace(/\*\*/g,".*?"):b.replace(/\?/g,".").replace(/\*/g,".*?"),d&&(b=b.replace(/~/g,"(?:\\b[^.]+\\.)?")),b=RegExp("^(?:"+b+")$",e?"":"i")}catch(h){b=null}a[c]=b||la}
function qb(a,b,c,d,e){b=b[c];var f=[],h=[],g=[],k=[];if(b)try{b=b.replace(/^\|+|\|+(?=\||$)/g,"").replace(/[.?+(){}[\]]/g,"\\$&").replace(/\*(?=[^:/|&]*:\/\/)/g,"\\w%%").replace(/(:\/\/[^:/]*?)~/g,"$1(?:\\b[^./]+\\.)?").replace(/\\\?(?=\||$)/g,"(?:$&.%%)?");if(d){for(var m=b.replace(/(^|\|)(?:([A-Z]+)?(?:#(\w+))?!)?[^|]+/g,"$1$2|$3").split("|");m.length;)f.push(m.shift()),h.push(m.shift());b=b.replace(/(^|\|)[\w#]+!/g,"$1")}if(e){for(var m=b.replace(/(^|\|)(?:(?=[^|]+?<[A-Z]:.*?>)|[^|]+)/g,"$1").split("|"),
l=/<([A-Z]):(.*?)>/g,q={F:"[^/\\?#&;]%%",T:"[^/\\?#&;.]%%"},x,r=0;m.length;++r)if(x=m.shift()){for(var E={},v=["^"],t="",F,C=1;F=l.exec(x);++C)E[F[1]]=C++,t=RegExp.rightContext,v.push(RegExp.leftContext,"(",F[2].replace(/\*/g,q[F[1]]||".%%?"),")");v.push(t,"$");g[r]=E;k[r]=RegExp(v.join("").replace(/\*/g,".*?").replace(/%%/g,"*"))}b=b.replace(l,"(?:$2)")}b=b.replace(/\*/g,".%%?").replace(/%%/g,"*");b=d||e?RegExp("^(?:("+b.replace(/\|/g,")|(")+"))$"):RegExp("^(?:"+b+")$")}catch(Q){b=null}a[c]=b||(b=
/(?!)/);d&&(b.qb=f,b.sb=h);e&&(b.rb=g,b.tb=k)}function lb(a){browser.runtime.lastError;a;!0}var Sa=[[!0,-11,"menu_download_link","link,image",L.prototype.oa],[!0,-11,"menu_download_link","page,frame,editable",L.prototype.oa,ra],[!0,-11,"menu_download_selected","selection",L.prototype.Ga],[!0,-12,"menu_download_all","page,frame,editable",L.prototype.Ga],[u,-11,"menu_download_item","link",L.prototype.oa,["chrome://downloads/*"]]];
String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(b||0,a.length)===a});String.prototype.endsWith||(String.prototype.endsWith=function(a,b){b=(null==b||b>this.length?this.length:b)-a.length;return 0<=b&&this.lastIndexOf(a,b)==b});Bb();new L;

